{"ast":null,"code":"import { useEffect, useState } from 'react';\nimport { actionSheetEventManager } from \"../eventmanager\";\nimport { useRef } from 'react';\n\nvar useSheetManager = function useSheetManager(_a) {\n  var id = _a.id,\n      onHide = _a.onHide,\n      onBeforeShow = _a.onBeforeShow,\n      onContextUpdate = _a.onContextUpdate;\n\n  var _b = useState(false),\n      visible = _b[0],\n      setVisible = _b[1];\n\n  var contextRef = useRef();\n  useEffect(function () {\n    if (!id) return;\n    var subscriptions = [actionSheetEventManager.subscribe(\"show_\".concat(id), function (data, context) {\n      if (visible) return;\n      contextRef.current = context || 'global';\n      onContextUpdate === null || onContextUpdate === void 0 ? void 0 : onContextUpdate(context);\n      onBeforeShow === null || onBeforeShow === void 0 ? void 0 : onBeforeShow(data);\n      setTimeout(function () {\n        setVisible(true);\n      }, 1);\n    }), actionSheetEventManager.subscribe(\"hide_\".concat(id), function (data, context) {\n      if (context === void 0) {\n        context = 'global';\n      }\n\n      if (context !== contextRef.current) return;\n      onHide === null || onHide === void 0 ? void 0 : onHide(data);\n    })];\n    return function () {\n      subscriptions.forEach(function (s) {\n        var _a;\n\n        return (_a = s === null || s === void 0 ? void 0 : s.unsubscribe) === null || _a === void 0 ? void 0 : _a.call(s);\n      });\n    };\n  }, [id, onHide, onBeforeShow, onContextUpdate, visible]);\n  return {\n    visible: visible,\n    setVisible: setVisible\n  };\n};\n\nexport default useSheetManager;","map":{"version":3,"names":["useEffect","useState","actionSheetEventManager","useRef","useSheetManager","_a","id","onHide","onBeforeShow","onContextUpdate","_b","visible","setVisible","contextRef","subscriptions","subscribe","concat","data","context","current","setTimeout","forEach","s","unsubscribe","call"],"sources":["/Users/helder/repos/tests/fruitmark-mini-repo/fruitmark-app/node_modules/react-native-actions-sheet/dist/src/hooks/use-sheet-manager.js"],"sourcesContent":["/* eslint-disable curly */\nimport { useEffect, useState } from 'react';\nimport { actionSheetEventManager } from '../eventmanager';\nimport { useRef } from 'react';\nvar useSheetManager = function (_a) {\n    var id = _a.id, onHide = _a.onHide, onBeforeShow = _a.onBeforeShow, onContextUpdate = _a.onContextUpdate;\n    var _b = useState(false), visible = _b[0], setVisible = _b[1];\n    var contextRef = useRef();\n    useEffect(function () {\n        if (!id)\n            return;\n        var subscriptions = [\n            actionSheetEventManager.subscribe(\"show_\".concat(id), function (data, context) {\n                if (visible)\n                    return;\n                contextRef.current = context || 'global';\n                onContextUpdate === null || onContextUpdate === void 0 ? void 0 : onContextUpdate(context);\n                onBeforeShow === null || onBeforeShow === void 0 ? void 0 : onBeforeShow(data);\n                setTimeout(function () {\n                    setVisible(true);\n                }, 1);\n            }),\n            actionSheetEventManager.subscribe(\"hide_\".concat(id), function (data, context) {\n                if (context === void 0) { context = 'global'; }\n                if (context !== contextRef.current)\n                    return;\n                onHide === null || onHide === void 0 ? void 0 : onHide(data);\n            }),\n        ];\n        return function () {\n            subscriptions.forEach(function (s) { var _a; return (_a = s === null || s === void 0 ? void 0 : s.unsubscribe) === null || _a === void 0 ? void 0 : _a.call(s); });\n        };\n    }, [id, onHide, onBeforeShow, onContextUpdate, visible]);\n    return {\n        visible: visible,\n        setVisible: setVisible\n    };\n};\nexport default useSheetManager;\n"],"mappings":"AACA,SAASA,SAAT,EAAoBC,QAApB,QAAoC,OAApC;AACA,SAASC,uBAAT;AACA,SAASC,MAAT,QAAuB,OAAvB;;AACA,IAAIC,eAAe,GAAG,SAAlBA,eAAkB,CAAUC,EAAV,EAAc;EAChC,IAAIC,EAAE,GAAGD,EAAE,CAACC,EAAZ;EAAA,IAAgBC,MAAM,GAAGF,EAAE,CAACE,MAA5B;EAAA,IAAoCC,YAAY,GAAGH,EAAE,CAACG,YAAtD;EAAA,IAAoEC,eAAe,GAAGJ,EAAE,CAACI,eAAzF;;EACA,IAAIC,EAAE,GAAGT,QAAQ,CAAC,KAAD,CAAjB;EAAA,IAA0BU,OAAO,GAAGD,EAAE,CAAC,CAAD,CAAtC;EAAA,IAA2CE,UAAU,GAAGF,EAAE,CAAC,CAAD,CAA1D;;EACA,IAAIG,UAAU,GAAGV,MAAM,EAAvB;EACAH,SAAS,CAAC,YAAY;IAClB,IAAI,CAACM,EAAL,EACI;IACJ,IAAIQ,aAAa,GAAG,CAChBZ,uBAAuB,CAACa,SAAxB,CAAkC,QAAQC,MAAR,CAAeV,EAAf,CAAlC,EAAsD,UAAUW,IAAV,EAAgBC,OAAhB,EAAyB;MAC3E,IAAIP,OAAJ,EACI;MACJE,UAAU,CAACM,OAAX,GAAqBD,OAAO,IAAI,QAAhC;MACAT,eAAe,KAAK,IAApB,IAA4BA,eAAe,KAAK,KAAK,CAArD,GAAyD,KAAK,CAA9D,GAAkEA,eAAe,CAACS,OAAD,CAAjF;MACAV,YAAY,KAAK,IAAjB,IAAyBA,YAAY,KAAK,KAAK,CAA/C,GAAmD,KAAK,CAAxD,GAA4DA,YAAY,CAACS,IAAD,CAAxE;MACAG,UAAU,CAAC,YAAY;QACnBR,UAAU,CAAC,IAAD,CAAV;MACH,CAFS,EAEP,CAFO,CAAV;IAGH,CATD,CADgB,EAWhBV,uBAAuB,CAACa,SAAxB,CAAkC,QAAQC,MAAR,CAAeV,EAAf,CAAlC,EAAsD,UAAUW,IAAV,EAAgBC,OAAhB,EAAyB;MAC3E,IAAIA,OAAO,KAAK,KAAK,CAArB,EAAwB;QAAEA,OAAO,GAAG,QAAV;MAAqB;;MAC/C,IAAIA,OAAO,KAAKL,UAAU,CAACM,OAA3B,EACI;MACJZ,MAAM,KAAK,IAAX,IAAmBA,MAAM,KAAK,KAAK,CAAnC,GAAuC,KAAK,CAA5C,GAAgDA,MAAM,CAACU,IAAD,CAAtD;IACH,CALD,CAXgB,CAApB;IAkBA,OAAO,YAAY;MACfH,aAAa,CAACO,OAAd,CAAsB,UAAUC,CAAV,EAAa;QAAE,IAAIjB,EAAJ;;QAAQ,OAAO,CAACA,EAAE,GAAGiB,CAAC,KAAK,IAAN,IAAcA,CAAC,KAAK,KAAK,CAAzB,GAA6B,KAAK,CAAlC,GAAsCA,CAAC,CAACC,WAA9C,MAA+D,IAA/D,IAAuElB,EAAE,KAAK,KAAK,CAAnF,GAAuF,KAAK,CAA5F,GAAgGA,EAAE,CAACmB,IAAH,CAAQF,CAAR,CAAvG;MAAoH,CAAjK;IACH,CAFD;EAGH,CAxBQ,EAwBN,CAAChB,EAAD,EAAKC,MAAL,EAAaC,YAAb,EAA2BC,eAA3B,EAA4CE,OAA5C,CAxBM,CAAT;EAyBA,OAAO;IACHA,OAAO,EAAEA,OADN;IAEHC,UAAU,EAAEA;EAFT,CAAP;AAIH,CAjCD;;AAkCA,eAAeR,eAAf"},"metadata":{},"sourceType":"module"}