{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport { NativeWindStyleSheet as _NativeWindStyleSheet } from \"nativewind\";\nimport { StyledComponent as _StyledComponent } from \"nativewind\";\nimport { useState } from 'react';\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport View from \"react-native-web/dist/exports/View\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport { NativeWindStyleSheet } from 'nativewind';\nimport { useAtom, atom } from 'jotai';\nimport useCityFruits from \"./src/hooks/useCityFruits\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar fromCityAtom = atom('');\nvar toCityAtom = atom('');\nvar fruitAtom = atom('');\nvar quantityAtom = atom(0);\nexport default function TransferFruits() {\n  var _useCityFruits = useCityFruits(),\n      cities = _useCityFruits.cities,\n      fruits = _useCityFruits.fruits;\n\n  var transferFruit = function () {\n    var _ref = _asyncToGenerator(function* () {\n      try {\n        var res = yield axios.post('http://localhost:3000/city_fruits/transfer', {\n          cityA: fromCityAtom,\n          cityB: toCityAtom,\n          fruit: fruitAtom,\n          quantity: 2\n        });\n        console.log(res);\n      } catch (err) {\n        console.error(err);\n      }\n    });\n\n    return function transferFruit() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  return _jsxs(_StyledComponent, {\n    className: \"flex flex-col justify-center items-center\",\n    component: View,\n    children: [_jsx(_StyledComponent, {\n      className: \"text-lg font-bold text-gray-700\",\n      component: Text,\n      children: \"Transfer\"\n    }), _jsx(_StyledComponent, {\n      className: \"pt-10\",\n      component: View,\n      children: _jsx(Transfer, {\n        label: \"From\",\n        data: cities\n      })\n    }), _jsx(_StyledComponent, {\n      className: \"pt-10\",\n      component: View,\n      children: _jsx(Transfer, {\n        label: \"To\",\n        data: cities\n      })\n    }), _jsx(_StyledComponent, {\n      className: \"pt-10\",\n      component: View,\n      children: _jsx(Transfer, {\n        label: \"Fruit\",\n        data: fruits\n      })\n    }), _jsx(_StyledComponent, {\n      className: \"pt-10 w-6/12\",\n      component: View,\n      children: _jsx(_StyledComponent, {\n        onPress: function onPress() {\n          transferFruit();\n        },\n        className: \"bg-blue-500 py-2 px-4 rounded-lg w-full shadow-lg\",\n        component: TouchableOpacity,\n        children: _jsx(_StyledComponent, {\n          className: \"text-white text-center\",\n          component: Text,\n          children: \"Transfer\"\n        })\n      })\n    })]\n  });\n}\n\nfunction Transfer(_ref2) {\n  var label = _ref2.label,\n      data = _ref2.data;\n\n  var _useState = useState(data[0]),\n      _useState2 = _slicedToArray(_useState, 2),\n      selected = _useState2[0],\n      setSelected = _useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      open = _useState4[0],\n      setOpen = _useState4[1];\n\n  function handleSelect(value) {\n    if (label === 'From') {\n      fromCityAtom(value);\n    } else if (label === 'To') {\n      toCityAtom(value);\n    } else {\n      fruitAtom(value);\n    }\n\n    setSelected(value);\n    setOpen(false);\n  }\n\n  return _jsxs(_StyledComponent, {\n    className: \"bg-white items-center justify-center\",\n    component: View,\n    children: [_jsx(_StyledComponent, {\n      className: \"text-md text-gray-700 font-semibold\",\n      component: Text,\n      children: label\n    }), _jsx(_StyledComponent, {\n      className: \"w-72\",\n      component: View,\n      children: _jsxs(_StyledComponent, {\n        className: \"mt-1\",\n        component: View,\n        children: [_jsx(_StyledComponent, {\n          onPress: function onPress() {\n            return setOpen(!open);\n          },\n          className: \"relative w-full rounded-lg bg-white py-2 pl-3 pr-10 text-left shadow-md text-l\",\n          component: TouchableOpacity,\n          children: _jsx(_StyledComponent, {\n            className: \"flex flex-row justify-between\",\n            component: View,\n            children: _jsxs(Text, {\n              children: [\" \", selected ? selected : '', \" \"]\n            })\n          })\n        }), open && _jsx(_StyledComponent, {\n          className: \"mt-1 w-full rounded-md bg-white py-1 shadow-lg\",\n          data: data,\n          renderItem: function renderItem(_ref3) {\n            var item = _ref3.item,\n                index = _ref3.index;\n            return _jsx(TouchableOpacity, {\n              onPress: function onPress() {\n                handleSelect(item);\n              },\n              children: _jsx(_StyledComponent, {\n                className: \"block truncate py-2 pl-10 pr-4 \" + (selected === item ? 'font-medium text-amber-900 bg-amber-100' : 'font-normal text-gray-900'),\n                component: Text,\n                children: data ? item : ''\n              })\n            }, index);\n          },\n          component: FlatList\n        })]\n      })\n    })]\n  });\n}\n\nNativeWindStyleSheet.setOutput({\n  default: 'native'\n});\n\n_NativeWindStyleSheet.create({\n  styles: {\n    \"shadow-md@0\": {\n      \"elevation\": 6,\n      \"shadowColor\": \"rgba(0, 0, 0, 0.1)\"\n    },\n    \"shadow-lg@0\": {\n      \"elevation\": 7.5,\n      \"shadowColor\": \"rgba(0, 0, 0, 0.1)\"\n    },\n    \"shadow-md@1\": {\n      \"shadowOffset\": {\n        \"width\": 0,\n        \"height\": 6\n      },\n      \"shadowRadius\": 10,\n      \"shadowColor\": \"rgba(0, 0, 0, 0.1)\",\n      \"shadowOpacity\": 1\n    },\n    \"shadow-lg@1\": {\n      \"shadowOffset\": {\n        \"width\": 0,\n        \"height\": 10\n      },\n      \"shadowRadius\": 15,\n      \"shadowColor\": \"rgba(0, 0, 0, 0.1)\",\n      \"shadowOpacity\": 1\n    },\n    \"shadow-md@2\": {\n      \"shadowOffset\": {\n        \"width\": 0,\n        \"height\": 6\n      },\n      \"shadowRadius\": 10,\n      \"shadowColor\": \"rgba(0, 0, 0, 0.1)\",\n      \"shadowOpacity\": 1\n    },\n    \"shadow-lg@2\": {\n      \"shadowOffset\": {\n        \"width\": 0,\n        \"height\": 10\n      },\n      \"shadowRadius\": 15,\n      \"shadowColor\": \"rgba(0, 0, 0, 0.1)\",\n      \"shadowOpacity\": 1\n    },\n    \"relative\": {\n      \"position\": \"relative\"\n    },\n    \"mt-1\": {\n      \"marginTop\": 4\n    },\n    \"flex\": {\n      \"display\": \"flex\"\n    },\n    \"w-6/12\": {\n      \"width\": \"50%\"\n    },\n    \"w-full\": {\n      \"width\": \"100%\"\n    },\n    \"w-72\": {\n      \"width\": 288\n    },\n    \"flex-row\": {\n      \"flexDirection\": \"row\"\n    },\n    \"flex-col\": {\n      \"flexDirection\": \"column\"\n    },\n    \"items-center\": {\n      \"alignItems\": \"center\"\n    },\n    \"justify-center\": {\n      \"justifyContent\": \"center\"\n    },\n    \"justify-between\": {\n      \"justifyContent\": \"space-between\"\n    },\n    \"truncate\": {\n      \"overflow\": \"hidden\"\n    },\n    \"rounded\": {\n      \"borderTopLeftRadius\": 4,\n      \"borderTopRightRadius\": 4,\n      \"borderBottomRightRadius\": 4,\n      \"borderBottomLeftRadius\": 4\n    },\n    \"rounded-lg\": {\n      \"borderTopLeftRadius\": 8,\n      \"borderTopRightRadius\": 8,\n      \"borderBottomRightRadius\": 8,\n      \"borderBottomLeftRadius\": 8\n    },\n    \"rounded-md\": {\n      \"borderTopLeftRadius\": 6,\n      \"borderTopRightRadius\": 6,\n      \"borderBottomRightRadius\": 6,\n      \"borderBottomLeftRadius\": 6\n    },\n    \"bg-blue-500\": {\n      \"backgroundColor\": \"#3b82f6\"\n    },\n    \"bg-white\": {\n      \"backgroundColor\": \"#fff\"\n    },\n    \"bg-amber-100\": {\n      \"backgroundColor\": \"#fef3c7\"\n    },\n    \"py-2\": {\n      \"paddingTop\": 8,\n      \"paddingBottom\": 8\n    },\n    \"px-4\": {\n      \"paddingLeft\": 16,\n      \"paddingRight\": 16\n    },\n    \"py-1\": {\n      \"paddingTop\": 4,\n      \"paddingBottom\": 4\n    },\n    \"pt-10\": {\n      \"paddingTop\": 40\n    },\n    \"pl-3\": {\n      \"paddingLeft\": 12\n    },\n    \"pr-10\": {\n      \"paddingRight\": 40\n    },\n    \"pl-10\": {\n      \"paddingLeft\": 40\n    },\n    \"pr-4\": {\n      \"paddingRight\": 16\n    },\n    \"text-left\": {\n      \"textAlign\": \"left\"\n    },\n    \"text-center\": {\n      \"textAlign\": \"center\"\n    },\n    \"font-bold\": {\n      \"fontWeight\": \"700\"\n    },\n    \"font-semibold\": {\n      \"fontWeight\": \"600\"\n    },\n    \"font-medium\": {\n      \"fontWeight\": \"500\"\n    },\n    \"font-normal\": {\n      \"fontWeight\": \"400\"\n    },\n    \"text-gray-700\": {\n      \"color\": \"#374151\"\n    },\n    \"text-white\": {\n      \"color\": \"#fff\"\n    },\n    \"text-amber-900\": {\n      \"color\": \"#78350f\"\n    },\n    \"text-gray-900\": {\n      \"color\": \"#111827\"\n    },\n    \"text-lg\": {\n      \"fontSize\": 18,\n      \"lineHeight\": 28\n    }\n  },\n  atRules: {\n    \"shadow-md\": [[[\"media\", \"android\"]], [[\"media\", \"ios\"]], [[\"media\", \"web\"]]],\n    \"shadow-lg\": [[[\"media\", \"android\"]], [[\"media\", \"ios\"]], [[\"media\", \"web\"]]]\n  }\n});","map":{"version":3,"names":["useState","NativeWindStyleSheet","useAtom","atom","useCityFruits","fromCityAtom","toCityAtom","fruitAtom","quantityAtom","TransferFruits","cities","fruits","transferFruit","res","axios","post","cityA","cityB","fruit","quantity","console","log","err","error","Transfer","label","data","selected","setSelected","open","setOpen","handleSelect","value","item","index","setOutput","default"],"sources":["/Users/helder/repos/tests/fruitmark-mini-repo/fruitmark-app/TransferFruits.js"],"sourcesContent":["import { useState } from 'react';\nimport { Text, TouchableOpacity, View, FlatList } from 'react-native';\nimport { NativeWindStyleSheet } from 'nativewind';\nimport { useAtom, atom } from 'jotai';\nimport useCityFruits from './src/hooks/useCityFruits';\n\nconst fromCityAtom = atom('');\nconst toCityAtom = atom('');\nconst fruitAtom = atom('');\nconst quantityAtom = atom(0);\n\nexport default function TransferFruits() {\n  const { cities, fruits } = useCityFruits();\n\n  const transferFruit = async () => {\n    try {\n      const res = await axios.post(\n        'http://localhost:3000/city_fruits/transfer',\n        {\n          cityA: fromCityAtom,\n          cityB: toCityAtom,\n          fruit: fruitAtom,\n          quantity: 2,\n        }\n      );\n      console.log(res);\n    } catch (err) {\n      console.error(err);\n    }\n  };\n\n  return (\n    <View className=\"flex flex-col justify-center items-center\">\n      <Text className=\"text-lg font-bold text-gray-700\">Transfer</Text>\n      <View className=\"pt-10\">\n        <Transfer label=\"From\" data={cities} />\n      </View>\n      <View className=\"pt-10\">\n        <Transfer label=\"To\" data={cities} />\n      </View>\n      <View className=\"pt-10\">\n        <Transfer label=\"Fruit\" data={fruits} />\n      </View>\n      <View className=\"pt-10 w-6/12\">\n        <TouchableOpacity\n          onPress={() => {\n            transferFruit();\n          }}\n          className=\"bg-blue-500 py-2 px-4 rounded-lg w-full shadow-lg\"\n        >\n          <Text className=\"text-white text-center\">Transfer</Text>\n        </TouchableOpacity>\n      </View>\n    </View>\n  );\n}\n\nfunction Transfer({ label, data }) {\n  const [selected, setSelected] = useState(data[0]);\n  const [open, setOpen] = useState(false);\n\n\n  function handleSelect(value) {\n    if (label === 'From') {\n      fromCityAtom(value);\n    } else if (label === 'To') {\n      toCityAtom(value);\n    } else {\n      fruitAtom(value);\n    }\n    setSelected(value);\n    setOpen(false);\n  }\n\n  return (\n    <View className=\"bg-white items-center justify-center\">\n      <Text className=\"text-md text-gray-700 font-semibold\">{label}</Text>\n      <View className=\"w-72\">\n        <View className=\"mt-1\">\n          <TouchableOpacity\n            onPress={() => setOpen(!open)}\n            className=\"relative w-full rounded-lg bg-white py-2 pl-3 pr-10 text-left shadow-md text-l\"\n          >\n            <View className=\"flex flex-row justify-between\">\n              <Text> {selected ? selected : ''} </Text>\n            </View>\n          </TouchableOpacity>\n          {open && (\n            <FlatList\n              className=\"mt-1 w-full rounded-md bg-white py-1 shadow-lg\"\n              data={data}\n              renderItem={({ item, index }) => (\n                <TouchableOpacity\n                  key={index}\n                  onPress={() => {\n                    handleSelect(item);\n                  }}\n                >\n                  <Text\n                    className={`block truncate py-2 pl-10 pr-4 ${\n                      selected === item\n                        ? 'font-medium text-amber-900 bg-amber-100'\n                        : 'font-normal text-gray-900'\n                    }`}\n                  >\n                    {data ? item : ''}\n                  </Text>\n                </TouchableOpacity>\n              )}\n            />\n          )}\n        </View>\n      </View>\n    </View>\n  );\n}\n\nNativeWindStyleSheet.setOutput({\n  default: 'native',\n});\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}