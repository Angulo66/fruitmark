{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport { useState, useEffect } from 'react';\nexport default function useCityFruits() {\n  var _useState = useState(true),\n      _useState2 = _slicedToArray(_useState, 2),\n      loading = _useState2[0],\n      setLoading = _useState2[1];\n\n  var _useState3 = useState([]),\n      _useState4 = _slicedToArray(_useState3, 2),\n      cities = _useState4[0],\n      setCities = _useState4[1];\n\n  var _useState5 = useState([]),\n      _useState6 = _slicedToArray(_useState5, 2),\n      fruits = _useState6[0],\n      setFruits = _useState6[1];\n\n  useEffect(function () {\n    var fetchCityFruits = function () {\n      var _ref = _asyncToGenerator(function* () {\n        try {\n          var axios = require('axios');\n\n          var res = yield axios.get('http://localhost:3000/city_fruits');\n          var citiesData = res.data.map(function (item) {\n            return item.city;\n          });\n          var fruitsData = res.data.map(function (item) {\n            return item.fruits;\n          }).flat().map(function (item) {\n            return item.fruit;\n          });\n\n          var fruitsDataUnique = _toConsumableArray(new Set(fruitsData));\n\n          setCities(citiesData);\n          setFruits(fruitsDataUnique);\n          setLoading(false);\n        } catch (err) {\n          console.error(err);\n        }\n      });\n\n      return function fetchCityFruits() {\n        return _ref.apply(this, arguments);\n      };\n    }();\n\n    fetchCityFruits();\n  }, []);\n  return {\n    cities: cities,\n    fruits: fruits,\n    loading: loading\n  };\n}","map":{"version":3,"names":["useState","useEffect","useCityFruits","loading","setLoading","cities","setCities","fruits","setFruits","fetchCityFruits","axios","require","res","get","citiesData","data","map","item","city","fruitsData","flat","fruit","fruitsDataUnique","Set","err","console","error"],"sources":["/Users/helder/repos/tests/fruitmark-mini-repo/fruitmark-app/src/hooks/useCityFruits.js"],"sourcesContent":["import { useState, useEffect } from 'react';\n\nexport default function useCityFruits() {\n  //const [cityFruits, setCityFruits] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [cities, setCities] = useState([]);\n  const [fruits, setFruits] = useState([]);\n\n  useEffect(() => {\n    const fetchCityFruits = async () => {\n      try {\n        const axios = require('axios');\n        const res = await axios.get('http://localhost:3000/city_fruits');\n\n        const citiesData = res.data.map((item) => item.city);\n        const fruitsData = res.data\n          .map((item) => item.fruits)\n          .flat()\n          .map((item) => item.fruit);\n\n        const fruitsDataUnique = [...new Set(fruitsData)];\n\n        setCities(citiesData);\n        setFruits(fruitsDataUnique);\n\n        setLoading(false);\n      } catch (err) {\n        console.error(err);\n      }\n    };\n    fetchCityFruits();\n  }, []);\n\n  return { cities, fruits, loading };\n}\n"],"mappings":";;;AAAA,SAASA,QAAT,EAAmBC,SAAnB,QAAoC,OAApC;AAEA,eAAe,SAASC,aAAT,GAAyB;EAEtC,gBAA8BF,QAAQ,CAAC,IAAD,CAAtC;EAAA;EAAA,IAAOG,OAAP;EAAA,IAAgBC,UAAhB;;EACA,iBAA4BJ,QAAQ,CAAC,EAAD,CAApC;EAAA;EAAA,IAAOK,MAAP;EAAA,IAAeC,SAAf;;EACA,iBAA4BN,QAAQ,CAAC,EAAD,CAApC;EAAA;EAAA,IAAOO,MAAP;EAAA,IAAeC,SAAf;;EAEAP,SAAS,CAAC,YAAM;IACd,IAAMQ,eAAe;MAAA,6BAAG,aAAY;QAClC,IAAI;UACF,IAAMC,KAAK,GAAGC,OAAO,CAAC,OAAD,CAArB;;UACA,IAAMC,GAAG,SAASF,KAAK,CAACG,GAAN,CAAU,mCAAV,CAAlB;UAEA,IAAMC,UAAU,GAAGF,GAAG,CAACG,IAAJ,CAASC,GAAT,CAAa,UAACC,IAAD;YAAA,OAAUA,IAAI,CAACC,IAAf;UAAA,CAAb,CAAnB;UACA,IAAMC,UAAU,GAAGP,GAAG,CAACG,IAAJ,CAChBC,GADgB,CACZ,UAACC,IAAD;YAAA,OAAUA,IAAI,CAACV,MAAf;UAAA,CADY,EAEhBa,IAFgB,GAGhBJ,GAHgB,CAGZ,UAACC,IAAD;YAAA,OAAUA,IAAI,CAACI,KAAf;UAAA,CAHY,CAAnB;;UAKA,IAAMC,gBAAgB,sBAAO,IAAIC,GAAJ,CAAQJ,UAAR,CAAP,CAAtB;;UAEAb,SAAS,CAACQ,UAAD,CAAT;UACAN,SAAS,CAACc,gBAAD,CAAT;UAEAlB,UAAU,CAAC,KAAD,CAAV;QACD,CAhBD,CAgBE,OAAOoB,GAAP,EAAY;UACZC,OAAO,CAACC,KAAR,CAAcF,GAAd;QACD;MACF,CApBoB;;MAAA,gBAAff,eAAe;QAAA;MAAA;IAAA,GAArB;;IAqBAA,eAAe;EAChB,CAvBQ,EAuBN,EAvBM,CAAT;EAyBA,OAAO;IAAEJ,MAAM,EAANA,MAAF;IAAUE,MAAM,EAANA,MAAV;IAAkBJ,OAAO,EAAPA;EAAlB,CAAP;AACD"},"metadata":{},"sourceType":"module"}