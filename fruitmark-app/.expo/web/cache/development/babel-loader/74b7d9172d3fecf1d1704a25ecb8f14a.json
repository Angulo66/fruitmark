{"ast":null,"code":"import { NativeWindStyleSheet as _NativeWindStyleSheet } from \"nativewind\";\nimport React, { useEffect, useRef } from 'react';\nimport Platform from \"react-native-web/dist/exports/Platform\";\nimport { actionSheetEventManager } from \"../eventmanager\";\nexport function useScrollHandlers(id, ref) {\n  var scrollRef = useRef(null);\n  var scrollLayout = useRef();\n  var scrollOffset = useRef(0);\n  var prevState = useRef(false);\n\n  var onScroll = function onScroll(event) {\n    var _a;\n\n    scrollOffset.current = event.nativeEvent.contentOffset.y;\n    (_a = ref.current) === null || _a === void 0 ? void 0 : _a.modifyGesturesForLayout(id, scrollLayout.current, scrollOffset.current);\n  };\n\n  var disableScrolling = React.useCallback(function () {\n    var _a, _b;\n\n    (_b = (_a = scrollRef.current) === null || _a === void 0 ? void 0 : _a.setNativeProps) === null || _b === void 0 ? void 0 : _b.call(_a, {\n      scrollEnabled: false\n    });\n\n    if (Platform.OS === 'web') {\n      scrollRef.current.style.touchAction = 'none';\n      scrollRef.current.style.overflowY = 'hidden';\n    }\n  }, [scrollRef]);\n  var enableScrolling = React.useCallback(function () {\n    var _a, _b;\n\n    (_b = (_a = scrollRef.current) === null || _a === void 0 ? void 0 : _a.setNativeProps) === null || _b === void 0 ? void 0 : _b.call(_a, {\n      scrollEnabled: true\n    });\n\n    if (Platform.OS === 'web') {\n      scrollRef.current.style.overflowY = 'scroll';\n      scrollRef.current.style.touchAction = 'auto';\n    }\n  }, [scrollRef]);\n  useEffect(function () {\n    var subscription = actionSheetEventManager.subscribe('onoffsetchange', function (offset) {\n      var _a;\n\n      (_a = ref.current) === null || _a === void 0 ? void 0 : _a.modifyGesturesForLayout(id, scrollLayout.current, scrollOffset.current);\n\n      if (offset < 3) {\n        if (prevState.current) return;\n        prevState.current = true;\n        enableScrolling();\n      } else {\n        if (!prevState.current) return;\n        prevState.current = false;\n        disableScrolling();\n      }\n    });\n    return function () {\n      subscription === null || subscription === void 0 ? void 0 : subscription.unsubscribe();\n    };\n  }, [id, ref, disableScrolling, enableScrolling]);\n\n  var onLayout = function onLayout(event) {\n    var _a;\n\n    scrollLayout.current = event.nativeEvent.layout;\n    (_a = ref.current) === null || _a === void 0 ? void 0 : _a.modifyGesturesForLayout(id, scrollLayout.current, scrollOffset.current);\n  };\n\n  return {\n    scrollEnabled: false,\n    onScroll: onScroll,\n    ref: scrollRef,\n    onLayout: onLayout,\n    scrollEventThrottle: 50\n  };\n}\n\n_NativeWindStyleSheet.create({\n  styles: {\n    \"hidden\": {\n      \"display\": \"none\"\n    }\n  }\n});","map":{"version":3,"names":["React","useEffect","useRef","actionSheetEventManager","useScrollHandlers","id","ref","scrollRef","scrollLayout","scrollOffset","prevState","onScroll","event","_a","current","nativeEvent","contentOffset","y","modifyGesturesForLayout","disableScrolling","useCallback","_b","setNativeProps","call","scrollEnabled","Platform","OS","style","touchAction","overflowY","enableScrolling","subscription","subscribe","offset","unsubscribe","onLayout","layout","scrollEventThrottle"],"sources":["/Users/helder/repos/tests/fruitmark-mini-repo/fruitmark-app/node_modules/react-native-actions-sheet/dist/src/hooks/use-scroll-handlers.js"],"sourcesContent":["/* eslint-disable curly */\nimport React, { useEffect, useRef } from 'react';\nimport { Platform, } from 'react-native';\nimport { actionSheetEventManager } from '../eventmanager';\n/**\n * If you are using a `ScrollView` or `FlatList` in ActionSheet. You must attach `scrollHandlers`\n * with it to enable vertical scrolling. For horizontal ScrollViews, you should not use this hook.\n * @param id Id for the handler. Could be any string value.\n * @param ref ref of the ActionSheet in which the ScrollView is present.\n * @returns\n */\nexport function useScrollHandlers(id, ref) {\n    //const [enabled,setEnabled] = useState(false);\n    var scrollRef = useRef(null);\n    var scrollLayout = useRef();\n    var scrollOffset = useRef(0);\n    var prevState = useRef(false);\n    var onScroll = function (event) {\n        var _a;\n        scrollOffset.current = event.nativeEvent.contentOffset.y;\n        (_a = ref.current) === null || _a === void 0 ? void 0 : _a.modifyGesturesForLayout(id, scrollLayout.current, scrollOffset.current);\n    };\n    var disableScrolling = React.useCallback(function () {\n        var _a, _b;\n        //@ts-ignore\n        (_b = (_a = scrollRef.current) === null || _a === void 0 ? void 0 : _a.setNativeProps) === null || _b === void 0 ? void 0 : _b.call(_a, {\n            scrollEnabled: false\n        });\n        if (Platform.OS === 'web') {\n            //@ts-ignore\n            scrollRef.current.style.touchAction = 'none';\n            //@ts-ignore\n            scrollRef.current.style.overflowY = 'hidden';\n        }\n    }, [scrollRef]);\n    var enableScrolling = React.useCallback(function () {\n        var _a, _b;\n        //@ts-ignore\n        (_b = (_a = scrollRef.current) === null || _a === void 0 ? void 0 : _a.setNativeProps) === null || _b === void 0 ? void 0 : _b.call(_a, {\n            scrollEnabled: true\n        });\n        if (Platform.OS === 'web') {\n            //@ts-ignore\n            scrollRef.current.style.overflowY = 'scroll';\n            //@ts-ignore\n            scrollRef.current.style.touchAction = 'auto';\n        }\n    }, [scrollRef]);\n    useEffect(function () {\n        var subscription = actionSheetEventManager.subscribe('onoffsetchange', function (offset) {\n            var _a;\n            (_a = ref.current) === null || _a === void 0 ? void 0 : _a.modifyGesturesForLayout(id, scrollLayout.current, scrollOffset.current);\n            if (offset < 3) {\n                if (prevState.current)\n                    return;\n                prevState.current = true;\n                enableScrolling();\n            }\n            else {\n                if (!prevState.current)\n                    return;\n                prevState.current = false;\n                disableScrolling();\n            }\n        });\n        return function () {\n            subscription === null || subscription === void 0 ? void 0 : subscription.unsubscribe();\n        };\n    }, [id, ref, disableScrolling, enableScrolling]);\n    var onLayout = function (event) {\n        var _a;\n        scrollLayout.current = event.nativeEvent.layout;\n        (_a = ref.current) === null || _a === void 0 ? void 0 : _a.modifyGesturesForLayout(id, scrollLayout.current, scrollOffset.current);\n    };\n    return {\n        scrollEnabled: false,\n        onScroll: onScroll,\n        ref: scrollRef,\n        onLayout: onLayout,\n        scrollEventThrottle: 50\n    };\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}